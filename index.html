<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Website Builder - Real Code Generator</title>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .cm-editor { height: 100%; }
        #preview-frame { width: 100%; height: 100%; border: none; }
    </style>
</head>
<body class="bg-gray-50">
    <header class="bg-white shadow-sm">
        <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
                </svg>
                <span class="text-xl font-bold text-blue-600">AI Website Builder</span>
            </div>
            <button class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">
                Export Website
            </button>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 py-8 grid grid-cols-1 lg:grid-cols-2 gap-8">
        <!-- Input Panel -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden">
            <div class="p-4 border-b border-gray-200">
                <h2 class="text-lg font-medium text-gray-900">Describe Your Website</h2>
            </div>
            <div class="p-4">
                <textarea id="prompt-input" class="w-full h-64 p-4 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="Example: I need a modern portfolio website with a dark theme, project gallery, and contact form..."></textarea>
                <button id="generate-btn" class="mt-4 w-full px-4 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700">
                    Generate Website
                </button>
            </div>
        </div>

        <!-- Output Panel -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden">
            <div class="p-4 border-b border-gray-200 flex justify-between">
                <h2 class="text-lg font-medium text-gray-900">Generated Website</h2>
                <div class="flex space-x-2">
                    <button id="preview-btn" class="px-3 py-1 bg-gray-100 rounded-md text-sm">Preview</button>
                    <button id="code-btn" class="px-3 py-1 bg-gray-100 rounded-md text-sm">Code</button>
                </div>
            </div>
            <div id="preview-container" class="h-[500px]">
                <iframe id="preview-frame" class="w-full h-full"></iframe>
            </div>
            <div id="code-container" class="h-[500px] hidden">
                <div class="grid grid-cols-1 md:grid-cols-3 h-full">
                    <div class="border-r border-gray-200">
                        <div class="p-2 bg-gray-50 text-sm font-medium">HTML</div>
                        <textarea id="html-code" class="w-full h-full p-2 font-mono text-sm resize-none"></textarea>
                    </div>
                    <div class="border-r border-gray-200">
                        <div class="p-2 bg-gray-50 text-sm font-medium">CSS</div>
                        <textarea id="css-code" class="w-full h-full p-2 font-mono text-sm resize-none"></textarea>
                    </div>
                    <div>
                        <div class="p-2 bg-gray-50 text-sm font-medium">JavaScript</div>
                        <textarea id="js-code" class="w-full h-full p-2 font-mono text-sm resize-none"></textarea>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // DOM Elements
        const promptInput = document.getElementById('prompt-input');
        const generateBtn = document.getElementById('generate-btn');
        const previewBtn = document.getElementById('preview-btn');
        const codeBtn = document.getElementById('code-btn');
        const previewContainer = document.getElementById('preview-container');
        const codeContainer = document.getElementById('code-container');
        const previewFrame = document.getElementById('preview-frame');
        const htmlCode = document.getElementById('html-code');
        const cssCode = document.getElementById('css-code');
        const jsCode = document.getElementById('js-code');

        // Switch between preview and code views
        previewBtn.addEventListener('click', () => {
            previewContainer.classList.remove('hidden');
            codeContainer.classList.add('hidden');
            previewBtn.classList.add('bg-blue-100', 'text-blue-800');
            codeBtn.classList.remove('bg-blue-100', 'text-blue-800');
        });

        codeBtn.addEventListener('click', () => {
            previewContainer.classList.add('hidden');
            codeContainer.classList.remove('hidden');
            codeBtn.classList.add('bg-blue-100', 'text-blue-800');
            previewBtn.classList.remove('bg-blue-100', 'text-blue-800');
        });

        // Generate website from prompt
        generateBtn.addEventListener('click', async () => {
            const prompt = promptInput.value.trim();
            if (!prompt) {
                alert('Please describe your website first');
                return;
            }

            generateBtn.disabled = true;
            generateBtn.textContent = 'Generating...';

            // Simulate AI API call (in production, replace with real API)
            setTimeout(() => {
                const generated = generateWebsiteFromPrompt(prompt);
                htmlCode.value = generated.html;
                cssCode.value = generated.css;
                jsCode.value = generated.js;
                updatePreview();
                generateBtn.disabled = false;
                generateBtn.textContent = 'Generate Website';
            }, 1500);
        });

        // Update preview iframe
        function updatePreview() {
            const doc = previewFrame.contentDocument || previewFrame.contentWindow.document;
            doc.open();
            doc.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <style>${cssCode.value}</style>
                </head>
                <body>
                    ${htmlCode.value}
                    <script>${jsCode.value}</script>
                </body>
                </html>
            `);
            doc.close();
        }

        // AI Website Generator (simplified for demo)
        function generateWebsiteFromPrompt(prompt) {
            const lowerPrompt = prompt.toLowerCase();
            let theme = 'light';
            let layout = 'generic';

            if (lowerPrompt.includes('dark')) theme = 'dark';
            if (lowerPrompt.includes('portfolio')) layout = 'portfolio';
            if (lowerPrompt.includes('blog')) layout = 'blog';
            if (lowerPrompt.includes('business')) layout = 'business';

            // Generate HTML/CSS/JS based on prompt
            if (layout === 'portfolio') {
                return {
                    html: `
                        <div class="min-h-screen ${theme === 'dark' ? 'bg-gray-900 text-white' : 'bg-white text-gray-900'}">
                            <header class="container mx-auto px-6 py-8">
                                <h1 class="text-4xl font-bold">My Portfolio</h1>
                                <p class="mt-2 ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}">${prompt.substring(0, 100)}</p>
                            </header>
                            <main class="container mx-auto px-6 py-8">
                                <section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                                    ${[1, 2, 3].map(i => `
                                        <div class="rounded-lg overflow-hidden shadow-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-50'}">
                                            <img src="https://source.unsplash.com/random/600x400/?project,design,${i}" class="w-full h-48 object-cover">
                                            <div class="p-6">
                                                <h3 class="text-xl font-semibold">Project ${i}</h3>
                                                <p class="mt-2 ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}">Sample project description</p>
                                            </div>
                                        </div>
                                    `).join('')}
                                </section>
                            </main>
                        </div>
                    `,
                    css: `
                        body {
                            font-family: 'Inter', sans-serif;
                        }
                        .container {
                            max-width: 1200px;
                        }
                    `,
                    js: 'console.log("Portfolio website loaded");'
                };
            } else {
                return {
                    html: `
                        <div class="min-h-screen ${theme === 'dark' ? 'bg-gray-900 text-white' : 'bg-white text-gray-900'}">
                            <div class="container mx-auto px-6 py-16 text-center">
                                <h1 class="text-5xl font-bold mb-6">Your AI-Generated Website</h1>
                                <p class="text-xl ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'} mb-8">${prompt.substring(0, 200)}</p>
                                <button class="px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                                    Get Started
                                </button>
                            </div>
                        </div>
                    `,
                    css: `
                        body {
                            font-family: 'Inter', sans-serif;
                        }
                        .container {
                            max-width: 1200px;
                        }
                    `,
                    js: 'console.log("Website loaded");'
                };
            }
        }
    </script>
</body>
</html>
